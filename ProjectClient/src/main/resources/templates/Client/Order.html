<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{Client/clientLayOut.html}">
<head>
    <meta charset="UTF-8">
    <title>Order Product</title>
</head>
<body>
     <div layout:fragment="content">

         <section class="module">
             <div class="container">
                 <div class="row">
                     <div class="col-sm-6 col-sm-offset-3">
                         <h1 class="module-title font-alt">Checkout</h1>
                     </div>
                 </div>
                 <hr class="divider-w pt-20">
                 <div class="row">
                     <div class="col-sm-12">
                         <table class="table table-striped table-border checkout-table">
                             <tbody>
                             <tr>
                                 <th class="hidden-xs">Item</th>
                                 <th>Name</th>
                                 <th class="hidden-xs">Price</th>
                             </tr>
                             <tr>
                                 <td class="hidden-xs"><a href="#"><img src="assets/images/shop/product-14.jpg" alt="Accessories Pack"/></a></td>
                                 <td>
                                     <h5 class="product-title font-alt" th:text="${category.name}"></h5>
                                 </td>
                                 <td class="hidden-xs">
                                     <h5 class="product-title font-alt" th:text="${category.price} + '$'"></h5>
                                 </td>
                             </tr>
                             </tbody>
                         </table>
                     </div>
                 </div>
                 <div class="row">
                     <div class="col-sm-6"></div>
                     <div class="col-sm-3">
                         <div class="form-group">
                             <input class="form-control" type="text" id="" name="" placeholder="Coupon code"/>
                         </div>
                     </div>
                     <div class="col-sm-3">
                         <div class="form-group">
                             <button class="btn btn-block btn-round btn-d pull-right" type="submit">Apply</button>
                         </div>
                     </div>
                 </div>
                 <hr class="divider-w">
                 <div class="row mt-70">
                     <div class="col-sm-7">
                         <h4 class="font-alt">Buyer Information</h4>
                         <form class="form" th:action="@{/CheckOut}" method="post" th:object="${CreateOrder}" th:id="theForm">
                             <input type="hidden" th:field="*{category_id}" th:value="${category.getId()}">
                             <div>
                                 <div class="form-group">
                                     <input class="form-control  input-lg" th:field="*{fullname}" type="text" placeholder="Full name"/>
                                 </div>
                                 <div class="form-group">
                                     <input class="form-control  input-lg" th:field="*{email}" type="text" placeholder="Email"/>
                                 </div>
                                 <div class="form-group">
                                     <input class="form-control  input-lg" th:field="*{phone}" type="text" placeholder="Phone"/>
                                 </div>
                                 <div class="form-group">
                                     <input class="form-control  input-lg" th:field="*{address}" type="text" placeholder="Address"/>
                                 </div>
                             </div>
                             <script
                                     src="https://www.paypal.com/sdk/js?client-id=ATm7GR6Tr2ulSZ7sqXcSnRPY0f3So7T6fsvOgHWUaLCI_kzwS_UQobBBXRnWj59jXeUvIJUMfmsFXcoe"> // Required. Replace YOUR_CLIENT_ID with your sandbox client ID.
                             </script>
                             <div id="paypal-button-container" type="submit"></div>
                             <script>
                                 paypal.Buttons({
                                     createOrder: function(data, actions) {
                                         // This function sets up the details of the transaction, including the amount and line item details.
                                         return actions.order.create({
                                             purchase_units: [{
                                                 amount: {
                                                     value: 200
                                                 }
                                             }]
                                         });
                                     },
                                     onApprove: function(data, actions) {
                                         // This function captures the funds from the transaction.
                                         return actions.order.capture().then(function(details) {
                                             // This function shows a transaction success message to your buyer.
                                             alert('Transaction completed by ' + details.payer.name.given_name);
                                             //document.getElementById('payment').innerHTML = '<input name="payment" value="true" hidden>'
                                             document.getElementById('theForm').submit();
                                         });
                                     }
                                 }).render('#paypal-button-container');
                                 //This function displays Smart Payment Buttons on your web page.
                             </script>
                         </form>
                     </div>
                     <div class="col-sm-5">
                         <div class="shop-Cart-totalbox">
                             <h4 class="font-alt">Cart Totals</h4>
                             <table class="table table-striped table-border checkout-table">
                                 <tbody>
                                 <tr>
                                     <th>Item Price :</th>
                                     <td>£40.00</td>
                                 </tr>
                                 <tr>
                                     <th>Shipping Fee :</th>
                                     <td>£2.00</td>
                                 </tr>
                                 <tr class="shop-Cart-totalprice">
                                     <th>Total :</th>
                                     <td>£42.00</td>
                                 </tr>
                                 </tbody>
                             </table>
                         </div>
                     </div>
                 </div>
             </div>
         </section>

         <section class="module">
             <div class="container">
                 <div class="row">

                 </div>
             </div>
         </section>
     </div>
</body>
</html>